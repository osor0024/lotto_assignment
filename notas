document.addEventListener("DOMContentLoaded", init, false);

let pageList = [];
//let randomList = [];


let url = "http://davidst.edumedia.ca/mad9014/formdata.php";
let httpRequest = "POST";


function init() {

   
    pageList = document.querySelectorAll(".page");
    console.log(pageList);
    let firstButtom = document.getElementById("btnSend");

    firstButtom.addEventListener("click", giveNum, false);

    firstButtom.addEventListener("click", function () {
        navigate(0);

    });
    document.getElementById("btnBack").addEventListener("click", function () {
        navigate(1);

    });
    
    document.getElementById("btnSend").addEventListener("click", play_audio);

    //randomList = document.getElementById("max")
}

 new CircleType(document.getElementById('demo1'))
  .radius(384);

function navigate(page) {
    pageList[0].classList.toggle("active");
    pageList[1].classList.toggle("active");
    console.log(pageList);
}

function play_audio(){
    document.getElementById("miaudio").play();
}


//function output(index) {
//    console.log(index);
//
//}
// let maxNum = document.getElementById("max").value;
//output(maxNum);
//function giveNumbers() {
//let maxNum = document.getElementById("max").value;
//    console.log(maxNum);
//let range = document.getElementById("digits").value;
//    console.log(range);
//    
//    getRandomInteger();
//}


//for (let i = 0; i = range.value; i++){
//    output(giveNumbers);
//}

//function getRandomInteger(min, maxNum) {
//    min = Math.ceil(min);
//    maxNum = Math.floor(maxNum + 1);
//    return Math.floor(Math.random() * (maxNum - min)) + min;
//}

//let maxNum = document.getElementById("max").value
//


//function getNumbers() {
//    let maxNum = document.getElementById("max").value;
//
//let i = document.getElementById("digits").value;
//
//
//    for (let i = 0; i <= 10; i++)
//
//    function getRandomInteger(min, maxNum) {
//        min = Math.ceil(min);
//        max = Math.floor(maxNum + 1);
//        return Math.floor(Math.random() * (maxNum - min)) + min;
//    }
//
//}








function getData() {

    let formData = new FormData();


    formData.append("digits", document.getElementById("digits").value);
    formData.append("max", document.getElementById("max").value);


    formData.forEach((item, index) => console.log(index + ": " + item)); //This one works good!

    let customSettings = {
        method: "POST", //I can use POST and GET Uppercase always
        mode: "cors", // cors or no-cors
        body: formData
    };

    let response = new Response(url, customSettings);


    fetch(url)
        .then(function (response) {
            console.log(response);
            return response.json;
        })
        .then(function (data) {
            console.log(data);

            let jsonData = JSON.stringify(data);
            console.log(data);

            document.getElementsByClassName(".num_list").innerHTML = jsonData;


        })
        .catch(function (error) {
            alert(error);
        })
}


function giveNum() {
    //console.log("asdasdf");
    var list = [];
    for (var i = 0; i < document.getElementById("digits").value; i++) {
        list.push(Math.floor(Math.random() * document.getElementById("max").value));
    }

    

    var asdv = document.getElementById('num_list');

    for (var i = 0; i < list.length; i++) {
        // Create the list item:
        var item = document.createElement('li');

        // Set its contents:
        item.appendChild(document.createTextNode(list[i]));

        // Add it to the list:
        console.log(asdv);
        asdv.appendChild(item);
    }

    // Finally, return the constructed list:
    console.log(list);
    return asdv;
}




//let serverData = {
//    url: "https://davidst.edumedia.ca/mad9014/nums.php",
//    httpRequest: "POST",
//    getJSON: function () {
//
//        let formdata = new FormData();
//        formdata.append("digits", document.getElementById("digits").value);
//        formdata.append("max", document.getElementById("max").value);
//
//        let customSettings = {
//            method: serverData.httpRequest,
//            mode: "cors",
//            body: formdata
//        };
//
//        let request = new Request(serverData.url, customSettings);
//
//        fetch(request)
//            .then(function (response) {
//                // throw new Error("Houston we have a problem...");    
//
//                console.log(response);
//                return response.json();
//            })
//            .then(function (data) {
//                console.log(data); // now we have JS data, let's display it
//
//            })
//            .catch(function (err) {
//                alert("Error: " + err.message);
//            });
//    }
//};
